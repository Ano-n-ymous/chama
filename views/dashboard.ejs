<%- include('partials/header') %>

<div class="container mt-4 mb-5">
  <!-- Welcome Section -->
  <div class="row mb-5" data-aos="fade-down">
    <div class="col-12 text-center text-white">
      <h1 class="display-4 fw-bold mb-3">Welcome to Chama Yetu</h1>
      <p class="lead opacity-75">Manage your group efficiently and effectively</p>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="row g-4 mb-5">
    <div class="col-md-3" data-aos="fade-up" data-aos-delay="100">
      <div class="stat-card primary">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-uppercase opacity-75 mb-2">Total Members</h6>
            <h2 class="display-4 fw-bold mb-0"><%= stats.members %></h2>
          </div>
          <i class="fas fa-users fa-3x opacity-25"></i>
        </div>
        <small class="opacity-75">Active members in group</small>
      </div>
    </div>
    
    <div class="col-md-3" data-aos="fade-up" data-aos-delay="200">
      <div class="stat-card success">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-uppercase opacity-75 mb-2">Total Funds</h6>
            <h2 class="display-6 fw-bold mb-0">KES <%= stats.funds.toFixed(0) %></h2>
          </div>
          <i class="fas fa-wallet fa-3x opacity-25"></i>
        </div>
        <small class="opacity-75">Combined contributions</small>
      </div>
    </div>
    
    <div class="col-md-3" data-aos="fade-up" data-aos-delay="300">
      <div class="stat-card warning">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-uppercase opacity-75 mb-2">Active Loans</h6>
            <h2 class="display-4 fw-bold mb-0"><%= stats.loans %></h2>
          </div>
          <i class="fas fa-hand-holding-dollar fa-3x opacity-25"></i>
        </div>
        <small class="opacity-75">Pending repayment</small>
      </div>
    </div>
    
    <div class="col-md-3" data-aos="fade-up" data-aos-delay="400">
      <div class="stat-card info">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="text-uppercase opacity-75 mb-2">Next Meeting</h6>
            <h5 class="fw-bold mb-0"><%= stats.nextMeeting ? stats.nextMeeting.title : 'No Meeting' %></h5>
          </div>
          <i class="fas fa-calendar fa-3x opacity-25"></i>
        </div>
        <small class="opacity-75">
          <%= stats.nextMeeting ? new Date(stats.nextMeeting.date).toLocaleDateString() : 'Schedule one' %>
        </small>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="row" data-aos="zoom-in" data-aos-delay="500">
    <div class="col-12">
      <div class="modern-card p-4">
        <h4 class="mb-4 text-dark"><i class="fas fa-bolt me-2 text-warning"></i>Quick Actions</h4>
        <div class="row g-3">
          <div class="col-md-3">
            <a href="/members/add" class="btn btn-gradient w-100 py-3">
              <i class="fas fa-user-plus fa-2x mb-2 d-block"></i>
              <span class="fw-bold">Add Member</span>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/contributions/record" class="btn btn-success-gradient w-100 py-3">
              <i class="fas fa-coins fa-2x mb-2 d-block"></i>
              <span class="fw-bold">Record Payment</span>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/loans/pending" class="btn btn-warning-gradient w-100 py-3">
              <i class="fas fa-check-circle fa-2x mb-2 d-block"></i>
              <span class="fw-bold">Approve Loans</span>
            </a>
          </div>
          <div class="col-md-3">
            <a href="/meetings/create" class="btn btn-info-gradient w-100 py-3">
              <i class="fas fa-calendar-plus fa-2x mb-2 d-block"></i>
              <span class="fw-bold">Schedule Meeting</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
